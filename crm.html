<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>CRM Case (Salesforce)</title>
  <link rel="stylesheet" href="assets/style.css"/>
</head>
<body>
  <header class="header">
    <div class="wrap">
      <div class="brand">
        <img src="assets/nice-new-logo.svg" alt="NICE" class="brand-logo-img"/>
        <div class="brand-title">Touchpoints & APIs ‚Äî Demo</div>
      </div>
      <nav class="nav" id="topnav">
        <a href="index.html">Home</a>
        <a href="signin.html">Sign-In</a>
        <a href="embedded.html">Embedded Help</a>
        <a href="contextual.html">Contextual Help</a>
        <a href="search.html">Search-in-Place</a>
        <a class="active" href="crm.html">CRM Case</a>
        <button class="theme-toggle" id="themeToggle" type="button"></button>
      </nav>
    </div>
  </header>

  <main>
    <!-- Explanation / Concept card -->
    <section class="card">
      <h1>CRM Case (Salesforce)</h1>
      <p class="muted">
        This page demonstrates how a <strong>CRM integration</strong> can connect Expert-driven workflows
        to Salesforce. In a production deployment, this pattern is typically used to:
      </p>
      <ul>
        <li>Create or open a Salesforce Case directly from an Expert article or flow.</li>
        <li>Let agents pivot from knowledge to CRM with a single click.</li>
        <li>Keep customer context (Cases, Contacts, Accounts) in sync with the guidance they‚Äôre using.</li>
      </ul>
      <p class="muted">
        For this demo, we‚Äôre linking to a specific Case in a Salesforce sandbox. Because Salesforce Lightning
        blocks most iframe embedding from external domains, we‚Äôre using a <strong>‚Äúhandoff‚Äù pattern</strong>
        instead of an embedded view.
      </p>
    </section>

    <!-- ‚ÄúCard-style‚Äù Case summary + CTA -->
    <section class="card">
      <h2>Demo Case: Salesforce Lightning</h2>
      <p class="muted" style="margin-bottom:12px;">
        This represents the type of Case an agent might open after reviewing an Expert article
        or running through an in-product troubleshooting flow.
      </p>

      <div style="border-radius:12px; border:1px solid var(--line); padding:14px 16px; margin-bottom:14px;">
        <div style="display:flex; justify-content:space-between; flex-wrap:wrap; gap:8px; margin-bottom:6px;">
          <div>
            <div style="font-size:14px; text-transform:uppercase; color:var(--muted); letter-spacing:.08em;">
              Case
            </div>
            <div style="font-weight:600;">500ao00000XtKb1AAF</div>
          </div>
          <div style="text-align:right;">
            <div style="font-size:14px; text-transform:uppercase; color:var(--muted); letter-spacing:.08em;">
              Status
            </div>
            <div style="font-weight:600;">Demo / Sandbox</div>
          </div>
        </div>
        <div style="margin-top:6px;">
          <div style="font-size:14px; text-transform:uppercase; color:var(--muted); letter-spacing:.08em;">
            Subject
          </div>
          <div style="font-weight:500;">Sample Support Case for Touchpoints &amp; APIs Demo</div>
        </div>
      </div>

      <p class="muted" style="margin-bottom:14px;">
        Click the button below to open this Case in Salesforce Lightning. In a real implementation, this
        link could be generated dynamically based on the user, account, or workflow they followed in Expert.
      </p>

      <div class="row" style="margin-top:4px;">
        <a class="btn primary"
           href="https://flow-innovation-8971.lightning.force.com/lightning/r/Case/500ao00000XtKb1AAF/view"
           target="_blank" rel="noopener">
          Open Case in Salesforce
        </a>
      </div>
    </section>
  </main>

  <script>
    (function(){
      // Highlight active nav item
      let path = location.pathname;
      if(path === '/' || path === '') path = '/index.html';
      document.querySelectorAll('#topnav a').forEach(a=>{
        if(path.endsWith(a.getAttribute('href'))) a.classList.add('active');
      });

      // Theme toggle
      const root = document.documentElement;
      const toggle = document.getElementById('themeToggle');
      if(!toggle) return;

      function applyTheme(mode){
        if(mode === 'dark'){
          root.setAttribute('data-theme','dark');
          toggle.textContent = '‚òÄ Light mode';
        }else{
          root.removeAttribute('data-theme');
          toggle.textContent = 'üåô Dark mode';
        }
      }

      const stored = localStorage.getItem('tpTheme') || 'light';
      applyTheme(stored);

      toggle.addEventListener('click',()=>{
        const next = root.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
        localStorage.setItem('tpTheme', next);
        applyTheme(next);
      });
    })();
  </script>
</body>
</html>
